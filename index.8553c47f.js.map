{"mappings":"AACA,IAAMA,OAASC,SAASC,cAAc,SAClCC,UAAYF,SAASC,cAAc,2BACnCE,WAAaH,SAASC,cAAc,wBACpCG,aAAeJ,SAASC,cAAc,6BAGpCI,UAAY,CACdC,SAAU,GACVC,MAAO,GACPC,QAAS,IAIPC,cAAgB,SAAAC,GACO,UAAtBA,EAAMC,OAAOC,KACZP,UAAUE,MAAQG,EAAMC,OAAOE,MACF,YAAtBH,EAAMC,OAAOC,KACpBP,UAAUG,QAAUE,EAAMC,OAAOE,MACJ,aAAtBH,EAAMC,OAAOC,OACpBP,UAAUC,SAAWI,EAAMC,OAAOE,OAEtCC,aAAaC,QAAQ,sBAAuBC,KAAKC,UAAUZ,W,EAIzDa,UAAYF,KAAKG,MAAML,aAAaM,QAAQ,wBAE9CF,YACAhB,UAAUW,MAAQK,UAAUZ,SAC9BH,WAAWU,MAAQK,UAAUX,MAC7BH,aAAaS,MAAQK,UAAUV,QAC/BH,UAAUE,MAAQW,UAAUX,MAC1BF,UAAUG,QAAUU,UAAUV,QAC9BH,UAAUC,SAAWY,UAAUZ,UAGnC,IAAMe,WAAa,SAACX,GAClBA,EAAMY,iBACN,IAA4DC,EAAZb,EAAMC,OAA/Ca,SAAYjB,EAAKgB,EAALhB,MAAOC,EAAOe,EAAPf,QAASF,EAAQiB,EAARjB,SAEnC,GAAoB,KAAhBC,EAAMM,OAAkC,KAAlBL,EAAQK,OAAmC,KAAnBP,EAASO,MACvD,OAAOY,MAAM,kCAGqDC,QAA9DC,IAAIb,aAAaM,QAAQ,wBACjCN,aAAac,WAAW,uBACxBlB,EAAMmB,cAAcC,O,EAGtB/B,OAAOgC,iBAAiB,QAAStB,eACjCV,OAAOgC,iBAAiB,SAAUV,YAGlCrB,SAASgC,eAAe,UAAUD,iBAAiB,UAAU,SAASrB,GACpEA,EAAMY,iBAEkC,IAApCW,EAAW,IAAIC,SAASC,MAIAC,MAArB,8HAAwI,CACnIC,OAAF,OACRC,KAAML,IAEPM,MAAK,SAAAC,G,OAAYA,EAASC,M,IAC1BF,MAAK,SAAAG,GACJhB,QAAQC,IAAIe,E,IAGbC,OAAM,SAAAC,GACLlB,QAAQkB,MAAMA,E","sources":["src/js/form.js"],"sourcesContent":["// const throttle = require('lodash.throttle');\nconst onForm = document.querySelector('.form');\nlet inputName = document.querySelector('input[name =\"username\"]');\nlet inputEmail = document.querySelector('input[name =\"email\"]');\nlet inputMessage = document.querySelector('textarea[name =\"message\"]');\n\n\nconst formInput = {\n    username: \"\",\n    email: \"\",\n    message: \"\",\n};\n\n// Створюємо ф-ю, яка зберігає в локальне сховище нові властивості \"email\" і \"message\".\nconst changedOnForm = event => {\n    if(event.target.name === \"email\") {\n        formInput.email = event.target.value;\n    } else if (event.target.name === \"message\"){\n        formInput.message = event.target.value;\n    } else if (event.target.name === \"username\"){\n        formInput.username = event.target.value;\n    }\n    localStorage.setItem('feedback-form-state', JSON.stringify(formInput));\n}\n\n// Отримуємо дані з локального сховища\nconst fromLocal = JSON.parse(localStorage.getItem('feedback-form-state'));\n// Перевіряємо стан сховища і якщо там є дані, то заповнюємо ними форму\nif (fromLocal) {\n    inputName.value = fromLocal.username;\n  inputEmail.value = fromLocal.email;\n  inputMessage.value = fromLocal.message;\n  formInput.email = fromLocal.email;\n    formInput.message = fromLocal.message;\n    formInput.username = fromLocal.username;\n}\n\nconst submitForm = (event) => {\n  event.preventDefault();\n  const {elements: { email, message, username}} = event.target;\n\n  if (email.value === \"\" || message.value === \"\" || username.value === \"\") {\n      return alert(\"Please fill in all the fields!\");\n  }\n  // При натисканні кнопки submit виводимо дані зі сховища в консоль, очищаємо сховище та форму\n  console.log(localStorage.getItem('feedback-form-state'));\n  localStorage.removeItem('feedback-form-state');\n  event.currentTarget.reset();\n}\n\nonForm.addEventListener('input', changedOnForm);\nonForm.addEventListener(\"submit\", submitForm);\n\n\ndocument.getElementById(\"myForm\").addEventListener(\"submit\", function(event) {\n  event.preventDefault(); // Забороняємо формі відправлятись автоматично\n\n  var formData = new FormData(this); // Отримуємо дані з форми\n  var chatId = \"5187801485\"; // Замініть на ваш chatId, отриманий від Телеграму\n\n  // Відправляємо POST-запит на API Телеграму\n  fetch(`https://api.telegram.org/bot6444843684:AAHgazEpVJzBoNaJE6XRUbWy78z-U5jn3yE/sendMessage?chat_id=5187801485&text=Всім привіт!`, {\n    method: \"POST\",\n    body: formData\n  })\n  .then(response => response.json())\n  .then(data => {\n    console.log(data); // Результат відправки повідомлення в Телеграм\n    // Додайте код для обробки успішної відправки повідомлення\n  })\n  .catch(error => {\n    console.error(error); // Помилка відправки повідомлення в Телеграм\n    // Додайте код для обробки помилки відправки повідомлення\n  });\n});"],"names":["onForm","document","querySelector","inputName","inputEmail","inputMessage","formInput","username","email","message","changedOnForm","event","target","name","value","localStorage","setItem","JSON","stringify","fromLocal","parse","getItem","submitForm","preventDefault","_elements","elements","alert","console","log","removeItem","currentTarget","reset","addEventListener","getElementById","formData","FormData","this","fetch","method","body","then","response","json","data","catch","error"],"version":3,"file":"index.8553c47f.js.map"}